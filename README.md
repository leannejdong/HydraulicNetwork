# Hydraulic Network Library 
(under development)

We start writing a C++ library for solving nonlinear hydraulic network.

## Completed:
  
* Parse CSV data into integer multidimensional arrays

* Derive incidence matrix

* Cycles detected
```shell
12 58 57 18 17 16 15 14 13 12 
32 40 39 38 37 36 35 34 33 32 
42 67 66 65 64 63 62 61 60 59 58 57 18 30 32 33 34 35 36 37 38 39 41 42 
53 69 68 67 66 65 64 63 62 61 60 59 58 57 18 30 32 33 34 35 36 37 38 39 41 42 50 52 53 
54 57 18 30 32 33 34 35 36 37 38 39 41 42 50 52 53 54 
62 69 68 67 66 65 64 63 62 
63 83 82 80 77 75 74 72 71 70 64 63 
82 98 97 95 94 93 91 90 89 86 85 84 80 82 
85 98 97 95 94 93 91 90 89 86 85 
94 99 59 60 61 62 63 64 70 71 72 74 75 77 80 84 85 86 89 90 91 93 94
```

* There are 168 sets of solutions for heat flows, with each contain 159 values. The first set of solutions is found as
```
0.45, 0, 0.45, 0.45, 6.98, 7.43, 0.04, 7.47, 1.23, 8.7, 1.8, 10.5, 0.04, 10.54, 1.77, 12.31, 12.31, 152.576152998714, 0.01, 152.586152998714, 152.586152998714, 86.563847001286, 10.93, 75.633847001286, 75.633847001286, 14.02, 14.02, 10.14, 3.88, 3.88, 3.88, 1.16, 2.72, 2.72, 2.72, 2.72, 2.72, 0, 36.5168488589228, 0.47, 36.0468488589228, 19.4801260112271, 3.82, 1.72, 13.9401260112271, 13.9401260112271, 0.13, 13.8101260112271, 3.46, 10.3501260112271, 10.3501260112271, 1.11, 9.24012601122715, 16.5667228476957, 1.1, 9.32, 6.14672284769567, 15.3868488589228, 2.76, 12.6268488589228, 12.17, 2.63, 1.81, 0.82, 9.54, 0.67, 8.87, 4.21, 3.34, 1.32, 14.4636422650565, 1.76, 16.2236422650565, 16.2236422650565, 9.21, 51.0222908360004, 1.87, 55.0822908360003, 2.19, 2.01, 0.18, 25.0969981423632, 29.9852926936372, 140.266152998714, 110.280860305077, 58.996118865545, 8.93, 7.33, 42.736118865545, 19.4, 1.95, 21.386118865545, 29.6718806827899, 6.08, 1.29952111202942, 8.28576181724495, 10.21, 25.5886485709439, 7.09288675369891, 2.2, -4.89288675369891, 14.9204911239793, 19.8133778776782, 3.13, 16.6833778776782, 16.6833778776782, 17.9828989897076, 5.29, 12.6928989897077, 7.72, 5.05, -0.0771010102923451, 3.35, -3.42710101029235, -3.42710101029235, 2.38, -7.66710101029235, 6.41, 0.37, 7.17, 4.62, 26.2371010102923, 1.14, 22.2923595707605, 22.2923595707605, 2.3, 10.632438764167, -9.35992080659352, 14.31229206281, -16.7446622461254, 1.71, 3.85, 22.3046622461254, -7.99237018331532, 1.25, 1.95, 11.1923701833153, 8.83, 2.45, 22.4723701833153, 0.81, 23.2823701833153, 2.6, 25.8823701833153, 25.8823701833153, 2.28, 7.81237125621653, 0.78, 2.08, 4.95237125621653, 4.95237125621653, 35.9747414395318, 10.27, 5.04, 51.2847414395318, 1.86, 239.15, 0, 0
```

## Quick Benchmark

* `gen_mat`: 43.7921s

* `Gotlieb123`: 43.8249s

* `NetworkSolve`: 43.8368s

## Build Instruction

### Dependency required

- CMake >= 3.12
- A Modern C++ compiler
- Eigen3.3
- doctest

  [The fastest feature-rich C++11/14/17/20 single-header testing framework](https://raw.githubusercontent.com/onqtam/doctest/master/doctest/doctest.h)

### Linux

#### Build from terminal

```
git clone git@github.com:leannejdong/HydraulicNetwork.git
cd HydraulicNetwork/
mkdir build
cd build
cmake ..
make
```
To run the main program
```
cd ..
build/HydraulicNetwork
```
To run the test suit
```
ctest
```

#### Build from CLion (Best choice for windows user)

Open the project directory and hit `shift-f10`


